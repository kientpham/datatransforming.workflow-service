USE [access_control]
GO
/****** Object:  Table [dbo].[CATEGORY]    Script Date: 11/29/2018 12:47:16 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON

GO
CREATE TABLE [dbo].[CATEGORY](
	[CATEGORY_ID] [int] IDENTITY(1,1) NOT NULL,
	[CATEGORY_GROUP] [varchar](20) NOT NULL,
	[CATEGORY_VALUE] [nvarchar](20) NOT NULL,
	[GROUP_ORDER] [tinyint] NULL,
	[DESCRIPTION] [nvarchar](50) NULL,
 CONSTRAINT [PK_CATEGORY] PRIMARY KEY CLUSTERED 
(
	[CATEGORY_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[GROUP]    Script Date: 11/29/2018 12:47:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[GROUP](
	[GROUP_ID] [int] IDENTITY(1,1) NOT NULL,
	[GROUP_NAME] [nvarchar](30) NOT NULL,
	[DESCRIPTION] [nvarchar](100) NULL,
	[STATUS] [int] NULL,
 CONSTRAINT [PK_USER_GROUP_1] PRIMARY KEY CLUSTERED 
(
	[GROUP_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

/****** Object:  Table [dbo].[GROUP_PERMISSION_JOIN]    Script Date: 11/29/2018 12:47:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON


CREATE TABLE [dbo].[GROUP_PERMISSION_JOIN](
	[GROUP_ID] [int] NOT NULL,
	[PERMISSION_ID] [int] NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PERMISSION]    Script Date: 11/29/2018 12:47:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


CREATE TABLE [dbo].[PERMISSION](
	[PERMISSION_ID] [int] IDENTITY(1,1) NOT NULL,
	[PERMISSION_NAME] [nvarchar](20) NOT NULL,
	[DESCRIPTION] [nvarchar](100) NULL,
 CONSTRAINT [PK_PERMISSION] PRIMARY KEY CLUSTERED 
(
	[PERMISSION_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[USER]    Script Date: 11/29/2018 12:47:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[USER](
	[USER_ID] [int] IDENTITY(1,1) NOT NULL,
	[USER_NAME] [varchar](50) NOT NULL,
	[PASSWORD] [nvarchar](50) NOT NULL,
	[FIRST_NAME] [nvarchar](50) NULL,
	[LAST_NAME] [nvarchar](50) NULL,
	[EMAIL] [nvarchar](70) NULL,
	[ADDRESS] [nvarchar](100) NULL,
	[USER_TYPE] [int] NULL,
	[STATUS] [int] NULL,
 CONSTRAINT [PK_USER_GROUP] PRIMARY KEY CLUSTERED 
(
	[USER_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[USER_GROUP_JOIN]    Script Date: 11/29/2018 12:47:17 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[USER_GROUP_JOIN](
	[GROUP_ID] [int] NOT NULL,
	[USER_ID] [int] NOT NULL
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[GROUP_PERMISSION_JOIN]  WITH CHECK ADD  CONSTRAINT [FK_GROUP_PERMISSION_JOIN_GROUP] FOREIGN KEY([GROUP_ID])
REFERENCES [dbo].[GROUP] ([GROUP_ID])
GO
ALTER TABLE [dbo].[GROUP_PERMISSION_JOIN] CHECK CONSTRAINT [FK_GROUP_PERMISSION_JOIN_GROUP]
GO
ALTER TABLE [dbo].[GROUP_PERMISSION_JOIN]  WITH CHECK ADD  CONSTRAINT [FK_GROUP_PERMISSION_JOIN_PERMISSION] FOREIGN KEY([PERMISSION_ID])
REFERENCES [dbo].[PERMISSION] ([PERMISSION_ID])
GO
ALTER TABLE [dbo].[GROUP_PERMISSION_JOIN] CHECK CONSTRAINT [FK_GROUP_PERMISSION_JOIN_PERMISSION]
GO
ALTER TABLE [dbo].[USER_GROUP_JOIN]  WITH CHECK ADD  CONSTRAINT [FK_USER_GROUP_JOIN_GROUP] FOREIGN KEY([GROUP_ID])
REFERENCES [dbo].[GROUP] ([GROUP_ID])
GO
ALTER TABLE [dbo].[USER_GROUP_JOIN] CHECK CONSTRAINT [FK_USER_GROUP_JOIN_GROUP]
GO
ALTER TABLE [dbo].[USER_GROUP_JOIN]  WITH CHECK ADD  CONSTRAINT [FK_USER_GROUP_JOIN_USER] FOREIGN KEY([USER_ID])
REFERENCES [dbo].[USER] ([USER_ID])
GO
ALTER TABLE [dbo].[USER_GROUP_JOIN] CHECK CONSTRAINT [FK_USER_GROUP_JOIN_USER]
GO

INSERT INTO [dbo].[GROUP]([GROUP_NAME],[DESCRIPTION],[STATUS]) VALUES ('Admin','This is a group for Admin',null)
Go
INSERT INTO [dbo].[GROUP]([GROUP_NAME],[DESCRIPTION],[STATUS]) VALUES ('User','This is a group for User',null)
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_TYPE','Manager',1,'User as the manager')
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_TYPE','Employee',2,'User as the employee')
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_TYPE','External',3,'User as the external')
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_STATUS','Active',1,'Active user')
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_STATUS','Inactive',2,'Inactive user')
GO

INSERT INTO [dbo].[CATEGORY]([CATEGORY_GROUP],[CATEGORY_VALUE],[GROUP_ORDER],[DESCRIPTION])
    VALUES('USER_STATUS','Deleted',3,'Deleted user')
GO

